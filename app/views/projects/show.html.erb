<div class="project container">

  <div class="project-head">
    <h1 class="project-name"><%= @project.name %></h1>
    <p class="project-owner-name">
      <!-- TO DO faire s'afficher une mini-profile-card on hover -->
      From <%= @owner.first_name.capitalize %> <%= @owner.last_name.upcase %>
    </p>
    <p class="project-dates">
      <%= @project.created_at.strftime("  Started on %d/%m/%Y") %> - Due: <%= @project.deadline.strftime("  Due on %d/%m/%Y") %>
    </p>
  </div>
  <div class="tracks-head">
    <p><%= pluralize(@tracks.count, "track")%></p>
    <button type="button" class="add-track-btn">
      <!-- TO DO implement track new -->
      <i class="fas fa-plus"></i>
    </button>
  </div>

  <ul class="tracks-list container">
    <% @tracks.each do |track| %>
      <li>
        <div class="talents-pics">
          <% track.talents.each do |talent| %>
            <%= link_to profile_path(talent) do %>
              <% if talent.avatar %>
              <%= cl_image_tag talent.user.avatar, class: "track-avatar", data: { toggle: "tooltip" }, title: "#{talent.user.first_name} #{talent.user.last_name} (#{talent.skill.name})" %>
              <% else %>
              <%= image_tag "noprofilepicture.png", class: "track-avatar" %>
              <% end %>
            <% end %>
          <% end %>
        </div>

        <div class="track-details">
          <p class="track-title"><%= track.name %></p>
          <p class="track-start-date"><%= track.created_at %></p>
        </div>

        <div class="sessions-count">
          <%= pluralize(track.sessions.count, "session") %>
        </div>

        <div class="controls">
          <button type="button" class="edit-track-btn">
            <!-- TO DO crÃ©er une modal d'edit -->
            <i class="far fa-edit"></i>
          </button>
          <button type="button" class="delete-track-btn">
            <!-- TO DO implement track destroy -->
            <i class="far fa-trash-alt"></i>
          </button>
        </div>
      </li>
    <% end %>
  </ul>
</div>
